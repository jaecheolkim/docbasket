Todo (7/25)

- 처음 앱 로딩 시 DB값을 있으면 basket 로딩.
- 주기별로 위치값 기준으로 mybasket 및 geo fence 체크 
- 새로 받은 mybasket은 항상 DB에 저장 및 

- 네트웍이 끊겼을 때는 DB 베이스로 동작.

- 주요 Array 및 currentLocation은 아카이브 및 로딩하기

- 이동 경로에 맞게 지오팬싱 스마트하게 재설정 
(현재는 1분 간격으로 되어 있지만==>  속도 및 위치 거리, 지나간 시간등을 측정해서 스마트하게 로딩하기)

- 백그라운드 처리

----------------------------------------------------------------------------------------

- (중요) 주요 Array값 앱 종료시 아카이브 및 앱 구동시 로딩

- 주기적으로 위치값 체크 로직 넣기 (1분 단위) & 백그라운드 처리 포함
    1분 혹은 1미터 -> 현재 위치 리프레쉬 (heartbeat / 맵 리스트뷰)
- 맵 리스트 뷰도 현재 위치에 따른 리프레싱 (거리 재 정렬)

- 랜딩 페이지 오류 해결 (랜딩페이지가 두번 띄워지게 되는 경우)

[OK]- 메시지 리스트 푸쉬에 따라 리프레싱
[OK]- 체크인 정책 변경 : 한번 체크인된 지오팬스는 다시 체크인 안하기 (24시간 이상 지나야 다시 체크인 가능)
[OK]- heartbeat 모아서 보내기 (앱 구동 시)
[OK]- 실제로 지오펜싱되는 핀에만 circle overlay 걸기
[OK]- 설정에 테스트 범위 설정 할 수 있게 지원
        self.regionMonitoringDistance = 1;  // 1000m (1km)
        self.findBasketsRange = 10000.0;    // 10000m (10km)
        self.checkInTimeFiler = 60*60*24; // 24시간 이내에 동일 지오펜스에 체크인 시도하면 체크인 안 됨.
[OK]- (중요) 도시 단위 City DB Basket 데이터 연동 및 DB 저장 (앱 스타트 시 GZip)





========================
- 파일 뷰어 관련 UI개발 (메모 기능 포함)
- (중요) 동적 geofence 연동 모듈 개발 20개씩 현재 위치 기반 (DB Geo query / BG work / Noti)
- (중요) 위치정보 오차 해결 (지오펜스 쓰래기값 필터링)
- Geofence 핀 색깔 다르게 표시 (퍼블릭 / 마이닥바스킷)
- 마이 닥바스켓 UI 개발
- 로컬 DB
========================


1. 맵뷰 / 리스트뷰
한화면에서 보여주기
리스트 -> 바스켓뷰 로 이동 (거리순으로 정렬 : 이미지 / 타이틀 / 거리)
핀 -> 바스켓뷰로 이동

2. 마이닥바스켓
-> [마이바스켓 / RSVP] 분류

3. 노티센터
-> 노티 내용들이 시간순으로 정렬됨 
-> 노티 선택시 -> 바스켓뷰로 이동
(핀 지났을 때 노티 / 친구의 초대 노티 + 알파)

4. 핀타입
퍼블릭 : 그린
프라이빗 : 레드
크리에이트 : 블루


5. 바스켓 뷰어
-> 바스켓 정보 / 파일 리스트 / 코멘트 & 마이닥바스켓
-> 파일 뷰어 / 코멘트 

6. 백그라운드 작업
(주기적으로 현재 위치 기준 지오펜스 리프래싱 및 노티  /  트래킹 정보 서버 동기)

zip 파일은 퍼블릭 바스켓 정보만 저장되어 있고





- Image Cache Lib 넣기
- Docbasket 생성
- 내 위치 이동
- /baskets/:id/checkin    POST    trans_id, user_id, checkin_at, checkout_at (ISO8601)

https://github.com/AFNetworking/AFOAuth2Client

사용자 위치 트래킹 
/users/:id/heartbeat POST latitude, longitude
/users/:id/heartbeat.json

Create new basket
/baskets    POST    create a new basket 
핀 혹은 리전 색 정의 (모니터링 되는 거 / 안되는 거)
모니터링 리스트 테이블 뷰
API OAuth 추가
Login  기능 추가
파일 뷰어 기능 추가

Geofence 20개 한계에 대한 프로그래밍
위치 오차에 대한 문제 어떻게 해결?

https://geoloqi.com
https://developers.geoloqi.com

========================
6/19일 한일  :
체크인/아웃 API 연동
강북맛집 50개 지오펜스 / 푸쉬 연동
geofence 20개 리밋 및 위치정보 오차율 조사 

ToDo List
 
트래킹 정보 API 연동
Basket 생성 API  연동 및 네이티브 UI 개발
로그인 관련 OAuth 연동 및 API 수정
파일 뷰어 관련 UI개발  (메모 기능 포함)
(중요) 동적 geofence 연동 모듈 개발 (DB / BG work / Noti)
(중요) 위치정보 오차 해결 
Geofence 핀 색깔 다르게 표시
노티피케이션 클라이언트 연동 작업
마이 닥바스켓 UI 개발

RESideMenu
SWTableViewCell
